# =============================================================================
# WEELO UNIFIED BACKEND - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# SERVER
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
HOST=localhost

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
# Current: JSON file (development)
# Production: PostgreSQL connection string
DATABASE_URL=postgresql://localhost:5432/weelo_db

# -----------------------------------------------------------------------------
# REDIS (for session caching, rate limiting in production)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION
# -----------------------------------------------------------------------------
# ⚠️  SECURITY: These are DEVELOPMENT defaults only!
# For PRODUCTION, generate secure secrets using:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# NEVER commit production secrets to version control!
# Use environment variables or a secrets manager (AWS Secrets Manager, HashiCorp Vault)
JWT_SECRET=weelo_dev_jwt_secret_2024_do_not_use_in_production_a1b2c3d4e5f6g7h8i9j0
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=weelo_dev_refresh_secret_2024_do_not_use_in_production_z9y8x7w6v5u4t3s2r1q0
JWT_REFRESH_EXPIRES_IN=30d

# -----------------------------------------------------------------------------
# OTP CONFIGURATION
# -----------------------------------------------------------------------------
OTP_EXPIRY_MINUTES=5
OTP_LENGTH=6

# -----------------------------------------------------------------------------
# SMS PROVIDER
# -----------------------------------------------------------------------------
# Options: twilio, msg91
SMS_PROVIDER=console

# Twilio (if using)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# MSG91 (if using - recommended for India)
MSG91_AUTH_KEY=
MSG91_SENDER_ID=WEELO
MSG91_TEMPLATE_ID=

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Options: debug, info, warn, error
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
# ⚠️  SECURITY: Restrict CORS in production!
# Development: Use * (allows all origins)
# Production: Use comma-separated domains like: https://weelo.app,https://captain.weelo.app
CORS_ORIGIN=*

# -----------------------------------------------------------------------------
# REDIS (Required for Production Scalability)
# -----------------------------------------------------------------------------
# Used for: OTP storage, refresh tokens, rate limiting, session cache
# For millions of users, Redis is REQUIRED for horizontal scaling
# Development: Leave empty to use in-memory storage
# Production: redis://username:password@host:port
REDIS_ENABLED=false

# -----------------------------------------------------------------------------
# SMS DEVELOPMENT MODE
# -----------------------------------------------------------------------------
# OTPs are generated randomly and logged to console
# Later: Configure SMS_PROVIDER with real credentials to send actual SMS

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# [ ] NODE_ENV=production
# [ ] JWT_SECRET is a strong random string (min 32 chars)
# [ ] JWT_REFRESH_SECRET is a strong random string
# [ ] MOCK_MODE=true
# [ ] DATABASE_URL points to production PostgreSQL
# [ ] REDIS_URL points to production Redis
# [ ] SMS provider credentials are set
# [ ] CORS_ORIGIN is restricted to your domains
# =============================================================================
